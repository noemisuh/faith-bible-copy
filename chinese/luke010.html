<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>路加福音 10章</title>
  <style>
    body {
      font-family: "Noto Sans", sans-serif;
      margin: 40px 10%;
      line-height: 1.8;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
    }
    .verse {
      margin: 10px 0;
    }
    .verse-number {
      font-weight: bold;
      margin-right: 6px;
    }
    textarea {
      width: 100%;
      height: 45px;
      font-size: 16px;
      margin-top: 4px;
      padding: 8px;
      resize: vertical;
    }
    .nav {
      display: flex;
      justify-content: space-between;
      margin: 20px 0 30px;
    }
    .nav a {
      font-size: 10px;
      text-decoration: none;
      background-color: #005bbb;
      color: white;
      padding: 8px 14px;
      border-radius: 6px;
    }
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    .top-bar input {
      font-size: 16px;
      padding: 6px;
      width: 250px;
    }
    .mic-button {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background-color: #f44336;
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 24px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <div>📖 圣经目录 | 路加福音</div>
    <input type="text" placeholder="搜索经文或关键词...">
  </div>

  <h1>路加福音&nbsp;&nbsp;第10章</h1>

  <div class="nav">
    <a href="luke009.html">←</a>
    <a href="luke011.html">→</a>
  </div>

<div class="verse">
    <span class="verse-number">1</span>&nbsp;&nbsp;这些事以后，主又设立了七十个人，差遣他们两个两个地走，进入他自己所要到的各城各地，
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">2</span>&nbsp;&nbsp;对他们说：“要收的庄稼多，做工的人少。所以你们当求庄稼的主，打发工人去收他的庄稼。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">3</span>&nbsp;&nbsp;你们去吧，我差遣你们，如同羊进入狼群。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">4</span>&nbsp;&nbsp;不要带钱囊，不带口袋，不带鞋，在路上也不要问人的安。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">5</span>&nbsp;&nbsp;你们进了哪一家，要说：“愿这家平安！”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">6</span>&nbsp;&nbsp;在那里的平安，就必临到那家；若不配得，这平安就归你们了。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">7</span>&nbsp;&nbsp;你们在那里住，要吃喝，拿什么给人，因为工人得工价是应当的，不要从这家搬到那家。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">8</span>&nbsp;&nbsp;无论进哪一城，若接待你们，就在那里吃喝，治好你们城里所有的病人，对他们说：“神的国临近你们了。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">9</span>&nbsp;&nbsp;若进哪一城，人不接待你们，你们就出来到街上说：
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">10</span>&nbsp;&nbsp;“连你们城里的尘土，我们都把它抖在你们身上，然而你们该知道，神的国临近了。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">11</span>&nbsp;&nbsp;我告诉你们，所在的日子，所多玛遭遇的，比那城还要容易忍受。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">12</span>&nbsp;&nbsp;“嗨，卡比，耶路撒冷啊，惨呀，惨呀！你自己却不悔改，完全处在神的道德上。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">13</span>&nbsp;&nbsp;“可拉欣啊，若在你们中间所行的异能，早在推罗西顿行过，他们早已披麻蒙灰，悔改了。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">14</span>&nbsp;&nbsp;然而推罗西顿在审判的时候，必比你们容易忍受。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">15</span>&nbsp;&nbsp;“你高大的迦百农啊，必被降到阴间去。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">16</span>&nbsp;&nbsp;“听从你们的，就是听从我；拒绝你们的，就是拒绝我；拒绝我的，就是拒绝那差我来的。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">17</span>&nbsp;&nbsp;七十个门徒欢欢喜喜地回来说：“主啊，因你的名，连鬼也服了我们。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">18</span>&nbsp;&nbsp;耶稣对他们说：“我看见撒旦从天上坠落，如同闪电。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">19</span>&nbsp;&nbsp;看哪，我已经给你们权柄，可以践踏蛇和蝎子，又胜过敌人的一切能力，断没有什么能害你们。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">20</span>&nbsp;&nbsp;然而不要因鬼服了你们就欢喜，要因你们的名字在天上被记载就欢喜。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">21</span>&nbsp;&nbsp;当时，耶稣被圣灵充满，便欢乐地说：“天父，天地的主，我感谢你，因你将这些事向聪明的和有学问的显出来，向婴孩显出来；父啊，是的，因你的美意本是如此。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">22</span>&nbsp;&nbsp;“一切所有的都交给我了，除了父，没有人知道子，除了子和子所愿意显现的人，没有人知道父。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">23</span>&nbsp;&nbsp;耶稣转身对门徒说：“你们看见你们所看见的眼睛有福了！
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">24</span>&nbsp;&nbsp;我告诉你们，许多先知和君王想要看你们所看见的，却没有看见；想要听你们所听见的，却没有听见。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">25</span>&nbsp;&nbsp;那时，有一个律法师起来试探耶稣，说：“夫子，我该做什么事才可以承受永生？”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">26</span>&nbsp;&nbsp;耶稣对他说：“律法上写的是什么？你念的是怎么说的？”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">27</span>&nbsp;&nbsp;他说：“你要爱主你的神，全心，全魂，全力，全心思；又要爱邻舍如同自己。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">28</span>&nbsp;&nbsp;耶稣对他说：“你回答得不错。你这样行，就必得永生。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">29</span>&nbsp;&nbsp;那人想要自己显为义，就对耶稣说：“谁是我的邻舍？”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">30</span>&nbsp;&nbsp;耶稣回答说：“有一个人从耶路撒冷下耶利哥去，落在强盗手中，强盗剥去他的衣服，把他打个半死，就丢下他走了。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">31</span>&nbsp;&nbsp;偶然有一个祭司从那条路下来的，看见那人，便从那边过去。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">32</span>&nbsp;&nbsp;又有一个利未人来到这地方，看见了，也照样从那边过去。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">33</span>&nbsp;&nbsp;惟有一个撒马利亚人行路来到那里，看见了，就动了慈心，
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">34</span>&nbsp;&nbsp;走近前去，把他的伤处包好，用油和酒倒在上面，扶他骑上牲口，带到客店里照应他。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">35</span>&nbsp;&nbsp;第二天拿出二十两银子交给店主，说：“你照应他，任何费用我回来必还。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">36</span>&nbsp;&nbsp;你想，这三个人中，哪一个是落在强盗手中的邻舍？”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">37</span>&nbsp;&nbsp;他说：“是那怜悯他的。” 耶稣对他说：“你去照样行吧。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">38</span>&nbsp;&nbsp;他们行路的时候，耶稣进了一个村庄。有一个女人，名叫马大，接他到自己家里。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">39</span>&nbsp;&nbsp;她有一个妹子叫玛利亚，坐在耶稣脚前，听他的道。
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">40</span>&nbsp;&nbsp;马大忙着伺候，心里不喜悦，就进前来对耶稣说：“主啊，我妹子留下我一个人伺候，难道不理我吗？请吩咐她来帮助我。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">41</span>&nbsp;&nbsp;耶稣回答说：“马大，马大，你为许多事思虑烦扰，
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>

<div class="verse">
    <span class="verse-number">42</span>&nbsp;&nbsp;但是不可少的只有一件，玛利亚已经选择了那上好的部分，是不能夺去的。”
    <br>
    <textarea wrap="soft" rows="4" cols="33" style="resize: none;"></textarea>
</div>
  
  <button class="mic-button" title="🎤 말씀을 소리 내어 읽으세요">🎤</button>
</div>

<script>
window.addEventListener("DOMContentLoaded", function () {
  const shown = localStorage.getItem("micPopupShown");
  if (!shown) {
    alert("📌 마이크 기능 안내:\n말씀을 소리 내어 읽으면 자동으로 필사칸에 입력됩니다.\n모바일에서는 마이크 허용을 눌러주세요.");
    localStorage.setItem("micPopupShown", "true");
  }
});

let recognition;
const micButton = document.querySelector(".mic-button");

micButton.addEventListener("click", () => {
  if (!('webkitSpeechRecognition' in window)) {
    alert("⚠️ 현재 브라우저는 음성 인식을 지원하지 않습니다.");
    return;
  }

  if (!recognition) {
    recognition = new webkitSpeechRecognition();

    const userLang = document.documentElement.lang || "zh";
    const langMap = {
      "zh": "zh-CN",
      "zh-cn": "zh-CN",
      "zh-hk": "zh-HK",
      "zh-tw": "zh-TW",
      "ko": "ko-KR",
      "en": "en-US"
    };
    recognition.lang = langMap[userLang.toLowerCase()] || "zh-CN";

    recognition.continuous = false;
    recognition.interimResults = false;

    recognition.onresult = (event) => {
      const text = event.results[0][0].transcript;
      const activeTextarea = document.activeElement;
      if (activeTextarea && activeTextarea.tagName === "TEXTAREA") {
        activeTextarea.value += text;
      }
    };

    recognition.onerror = (event) => {
      alert("❗ 오류 발생: " + event.error);
    };
  }

  recognition.start();
});

 // 붙여넣기만 방지하고 복사는 허용
  document.querySelectorAll("textarea").forEach(function (textarea) {
    textarea.addEventListener("paste", function (event) {
      event.preventDefault();
      alert("✋ 붙여넣기는 금지되어 있습니다. 직접 입력해 주세요.");
    });
  });

  // 기호 제거 함수 (유니코드 방식)
    function cleanText(text) {
        return text.replace(/[\u201C\u201D\u3001\uFF1A\uFF1F\uFF08\uFF09]/g, ""); // 유니코드로 기호 제거
    }

    // 자동 줄바꿈 함수
    function autoLineBreak(text, line_length = 50) {
        let lines = [];
        let currentLine = "";

        // 문장을 한 줄씩 처리하며 줄바꿈 적용
        text.split(' ').forEach(word => {
            // 현재 줄의 길이가 line_length를 넘으면, 줄을 나누고 새로운 줄을 시작
            if ((currentLine + word).length > line_length) {
                lines.push(currentLine.trim()); // 현재 줄을 추가
                currentLine = word; // 새로운 줄 시작
            } else {
                currentLine += " " + word; // 현재 줄에 단어 추가
            }
        });

        // 남아있는 텍스트를 마지막 줄로 추가
        if (currentLine) {
            lines.push(currentLine.trim());
        }

        return lines.join('\n'); // 줄바꿈 문자로 구분하여 반환
    }

    // 기호를 제거하고, 줄바꿈 처리 후, 필사 칸에 텍스트를 채웁니다
    window.onload = function() {
        const verses = document.querySelectorAll(".verse-text");

        verses.forEach(verseText => {
            // 기호 제거
            let cleanedText = cleanText(verseText.innerText);
            
            // 자동 줄바꿈 처리
            cleanedText = autoLineBreak(cleanedText);  

            // 기호가 제거되고, 줄바꿈된 텍스트로 업데이트
            verseText.innerText = cleanedText;

            const textarea = verseText.closest('.verse').querySelector("textarea");
            textarea.value = cleanedText;  // 필사 칸에 텍스트 채우기
        });
    };

    // 기존의 다른 기능들이 계속 동작하도록 유지
</script>
</body>
</html>
